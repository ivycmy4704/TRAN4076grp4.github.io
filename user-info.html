<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Brand Information - ProGen AI</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    .info-section {
      margin-bottom: 2rem;
      padding: 1.5rem;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #f9f9f9;
    }
    .info-group {
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #eee;
    }
    .info-label {
      font-weight: 600;
      color: #333;
      margin-bottom: 0.25rem;
    }
    .info-value {
      color: #666;
      line-height: 1.5;
    }
    .info-value.empty {
      color: #999;
      font-style: italic;
    }
    .product-card {
      background: white;
      padding: 1.5rem;
      margin-bottom: 1rem;
      border: 1px solid #ddd;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .button-group {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 2rem;
    }
    .payment-methods {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .payment-tag {
      background: #007bff;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
    }
    .alert {
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1rem;
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      color: #856404;
    }
    .btn-success {
      background: #28a745;
      color: white;
      border: none;
      padding: 0.75rem 2rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
    }
    .btn-success:hover {
      background: #218838;
    }
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body class="bg-pastel">
  <nav class="navbar">
    <div class="logo">ProGen AI</div>
    <div>
      <a href="dashboard.html">Dashboard</a> |
      <a href="support.html">Support</a> |
      <a href="#" onclick="logout()">Logout</a>
    </div>
  </nav>

  <div class="container">
    <div class="card">
      <h1>My Brand Information</h1>
      <p class="subtitle">View and manage your brand details</p>
      
      <div id="loadingMessage" class="alert">
        Loading brand information...
      </div>

      <div id="brandInfo" style="display: none;">
        <!-- Basic Brand Information -->
        <div class="info-section">
          <h2>Basic Brand Information</h2>
          
          <div class="info-group">
            <div class="info-label">Brand Name</div>
            <div id="info-brandName" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Address</div>
            <div id="info-address" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Phone Number</div>
            <div id="info-phone" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Opening Hours</div>
            <div id="info-openingHours" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Holiday Hours</div>
            <div id="info-holidayHours" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Advance Booking Required</div>
            <div id="info-advanceBooking" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Payment Methods</div>
            <div id="info-paymentMethods" class="payment-methods"></div>
          </div>
        </div>

        <!-- Brand Details -->
        <div class="info-section">
          <h2>Brand Details</h2>
          
          <div class="info-group">
            <div class="info-label">Company Profile</div>
            <div id="info-companyProfile" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Branches</div>
            <div id="info-branches" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Awards & Endorsements</div>
            <div id="info-awards" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Product Categories</div>
            <div id="info-productCategories" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Key Promoted Categories</div>
            <div id="info-keyPromotedCategories" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Brand Advantages</div>
            <div id="info-brandAdvantages" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Target Audience</div>
            <div id="info-targetAudience" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Consumption Threshold</div>
            <div id="info-consumptionThreshold" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Copywriting Theme</div>
            <div id="info-copywritingTheme" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Suitable Adjectives</div>
            <div id="info-suitableAdjectives" class="info-value"></div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Other Notes</div>
            <div id="info-otherNotes" class="info-value"></div>
          </div>
        </div>

        <!-- Products Information -->
        <div class="info-section">
          <h2>Product Information</h2>
          <div id="info-products"></div>
        </div>

        <div class="button-group">
          <button class="btn-primary" onclick="editQuestionnaire()">Edit Information</button>
          <button class="btn-secondary" onclick="goToDashboard()">Back to Dashboard</button>
        </div>
      </div>

      <div id="noDataMessage" class="alert" style="display: none;">
        <h3 style="margin-top: 0;">No Brand Information Found</h3>
        <p>You haven't filled out the brand questionnaire yet.</p>
        <div class="button-group">
          <button class="btn-primary" onclick="goToQuestionnaire()">Fill Out Questionnaire</button>
          <button class="btn-secondary" onclick="goToDashboard()">Back to Dashboard</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      loadBrandInformation();
    });

    function loadBrandInformation() {
      try {
        const savedData = localStorage.getItem('questionnaireData');
        const loadingMessage = document.getElementById('loadingMessage');
        const brandInfo = document.getElementById('brandInfo');
        const noDataMessage = document.getElementById('noDataMessage');

        if (savedData) {
          const data = JSON.parse(savedData);
          displayBrandInformation(data);
          loadingMessage.style.display = 'none';
          brandInfo.style.display = 'block';
        } else {
          loadingMessage.style.display = 'none';
          noDataMessage.style.display = 'block';
        }
      } catch (error) {
        console.error('Error loading brand information:', error);
        document.getElementById('loadingMessage').style.display = 'none';
        document.getElementById('noDataMessage').style.display = 'block';
      }
    }

    function displayBrandInformation(data) {
      // Basic Brand Information
      setInfoValue('info-brandName', data.brandName);
      setInfoValue('info-address', data.address);
      setInfoValue('info-phone', data.phone);
      setInfoValue('info-openingHours', data.openingHours);
      setInfoValue('info-holidayHours', data.holidayHours);
      setInfoValue('info-advanceBooking', data.advanceBooking);

      // Payment Methods
      const paymentMethodsContainer = document.getElementById('info-paymentMethods');
      if (data.paymentMethods && data.paymentMethods.length > 0) {
        paymentMethodsContainer.innerHTML = data.paymentMethods.map(method => 
          `<span class="payment-tag">${method}</span>`
        ).join('');
      } else {
        paymentMethodsContainer.innerHTML = '<span class="info-value empty">Not specified</span>';
      }

      // Brand Details
      setInfoValue('info-companyProfile', data.companyProfile);
      setInfoValue('info-branches', data.branches);
      setInfoValue('info-awards', data.awards);
      setInfoValue('info-productCategories', data.productCategories);
      setInfoValue('info-keyPromotedCategories', data.keyPromotedCategories);
      setInfoValue('info-brandAdvantages', data.brandAdvantages);
      setInfoValue('info-targetAudience', data.targetAudience);
      setInfoValue('info-consumptionThreshold', data.consumptionThreshold);
      setInfoValue('info-copywritingTheme', data.copywritingTheme);
      setInfoValue('info-suitableAdjectives', data.suitableAdjectives);
      setInfoValue('info-otherNotes', data.otherNotes);

      // Products
      displayProducts(data.products);
    }

    function setInfoValue(elementId, value) {
      const element = document.getElementById(elementId);
      if (value && value.toString().trim() !== '') {
        element.textContent = value;
        element.classList.remove('empty');
      } else {
        element.textContent = 'Not specified';
        element.classList.add('empty');
      }
    }

    function displayProducts(products) {
      const container = document.getElementById('info-products');
      
      if (!products || products.length === 0) {
        container.innerHTML = '<p class="info-value empty">No products specified</p>';
        return;
      }

      container.innerHTML = products.map((product, index) => `
        <div class="product-card">
          <h3 style="color: #007bff; margin-top: 0;">${product.productName || 'Unnamed Product'}</h3>
          
          <div class="info-group">
            <div class="info-label">Category</div>
            <div class="info-value">${product.productCategory || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Features</div>
            <div class="info-value">${product.productFeatures || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Problems Solved</div>
            <div class="info-value">${product.problemsSolved || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Advantages</div>
            <div class="info-value">${product.advantages || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Price</div>
            <div class="info-value">${product.price || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Discount</div>
            <div class="info-value">${product.discount || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Suitable Adjectives</div>
            <div class="info-value">${product.productAdjectives || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Unsuitable Crowd</div>
            <div class="info-value">${product.unsuitableCrowd || 'Not specified'}</div>
          </div>
          
          <div class="info-group">
            <div class="info-label">Notes</div>
            <div class="info-value">${product.productNotes || 'Not specified'}</div>
          </div>
        </div>
      `).join('');
    }

    function editQuestionnaire() {
      window.location.href = 'questionnaire.html';
    }

    function goToQuestionnaire() {
      window.location.href = 'questionnaire.html';
    }

    function goToDashboard() {
      window.location.href = 'dashboard.html';
    }

    function logout() {
      localStorage.removeItem('currentUser');
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>
